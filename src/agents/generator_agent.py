import os
import google.generativeai as genai

# Configura tu clave API desde variable de entorno
GOOGLE_API_KEY="AIzaSyAAY_YacYAzOV-klmHA_uFjyFDSMrEFtDI"
#GOOGLE_API_KEY = os.getenv("GOOGLE_API_KEY")

if not GOOGLE_API_KEY:
    raise ValueError("La variable de entorno GOOGLE_API_KEY no est√° configurada.")

genai.configure(api_key=GOOGLE_API_KEY)

# Modelo recomendado (precisi√≥n vs. tokens)
MODEL_NAME = "gemini-1.5-flash"
model = genai.GenerativeModel(MODEL_NAME)


# Utilidad para cargar plantilla de prompt
def load_prompt_template(path):
    with open(path, "r", encoding="utf-8") as f:
        return f.read()


BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
# Paths a los prompts
ANSWER_PROMPT_PATH = os.path.join(BASE_DIR,"data", "prompts", "answer_prompt.txt")
CHECK_PROMPT_PATH = os.path.join(BASE_DIR,"data", "prompts", "check_prompt.txt")
REFINE_PROMPT_PATH = os.path.join(BASE_DIR,"data", "prompts", "recovery_prompt.txt")
FIX_PROMPT_PATH = os.path.join(BASE_DIR,"data", "prompts", "fix_prompt.txt")
WIKI_ARTICLE_PROMPT_PATH = os.path.join(BASE_DIR,"data", "prompts", "wiki_article_prompt.txt")

# Cargar templates
ANSWER_PROMPT_TEMPLATE = load_prompt_template(ANSWER_PROMPT_PATH)
CHECK_PROMPT_TEMPLATE = load_prompt_template(CHECK_PROMPT_PATH)
REFINE_PROMPT_TEMPLATE = load_prompt_template(REFINE_PROMPT_PATH)
FIX_PROMPT_TEMPLATE = load_prompt_template(FIX_PROMPT_PATH)
WIKI_ARTICLE_PROMPT_TEMPLATE = load_prompt_template(WIKI_ARTICLE_PROMPT_PATH)

# Funci√≥n para generar respuesta
def generate_answer(question: str, context_chunks: list[str]) -> str:
    context_text = "\n".join(f"- {chunk.strip()}" for chunk in context_chunks)
    prompt = ANSWER_PROMPT_TEMPLATE.format(question=question, context=context_text)

    try:
        response = model.generate_content(prompt)
        return response.text.strip()
    except Exception as e:
        return f"‚ö†Ô∏è Error generando respuesta: {e}"

# Nueva funci√≥n para chequeo
def check_context(question: str, context_chunks: list[str]) -> bool:
    context_text = "\n".join(f"- {chunk.strip()}" for chunk in context_chunks)
    prompt = CHECK_PROMPT_TEMPLATE.format(question=question, context=context_text)

    try:
        response = model.generate_content(prompt)
        result = response.text.strip().lower()
        print(f"el chequeo fue: {response.text}")
        if "true" in result:
            return True
        elif "false" in result:
            return False
        else:
            # Si la respuesta no es clara
            return False
    except Exception as e:
        print(f"‚ö†Ô∏è Error durante el chequeo: {e}")
        return False

def refine_question(original_question: str) -> str:
    prompt = REFINE_PROMPT_TEMPLATE.format(original_question=original_question)

    try:
        response = model.generate_content(prompt)
        print(f"La pregunta ha sido mejorada a: {response.text.strip()}")
        return response.text.strip()
    except Exception as e:
        print(f"Error refinando pregunta: {e}")
        return original_question  # fallback

def fix_question(original_question: str) -> str:
    prompt = FIX_PROMPT_TEMPLATE.format(original_question=original_question)

    try:
        response = model.generate_content(prompt)
        return response.text.strip()
    except Exception as e:
        print(f"Error refinando pregunta: {e}")
        return original_question

# Modo prueba r√°pida
if __name__ == "__main__":
    q = "¬øCu√°ndo comenz√≥ la Primera Guerra Mundial?"
    # ctx = [
    #     "La invasi√≥n alemana a Polonia comenz√≥ el 1 de septiembre de 1939.",
    #     "Francia y Reino Unido declararon la guerra a Alemania el 3 de septiembre de ese mismo a√±o."
    # ]
    ctx = [
        "Al contrario que en otros pa√≠ses el servicio militar obligatorio no se impuso hasta 1916, aunque la ley fue modificada con el paso de los a√±os: por ejemplo en su primera versi√≥n los hombres casados estaban exentos de ser llamados a filas, al igual que miembros del clero u hombres casados y con hijos. Los irlandeses, debido a la inestable situaci√≥n pol√≠tica, no fueron llamados a filas, por lo que el reclutamiento forzoso solo se aplic√≥ en Inglaterra, Gales y Escocia. En Estados Unidos el reclutamiento comenz√≥ en 1917 y en general fue bien recibido por la opini√≥n p√∫blica, aunque se produjeron algunos conatos de rebeli√≥n en zonas rurales aisladas. En un principio el gobierno hab√≠a previsto un servicio militar voluntario, pero cuando en las seis primeras semanas de guerra apenas se hab√≠an alistado 73 000 voluntarios del mill√≥n esperado, se impuso el reclutamiento forzoso, que solo en 1917 registr√≥ a 10 millones de hombres y para finales de 1918 a 24 millones, de los cuales se escogieron para el servicio militar a algo menos de tres millones. Las formas de resistencia al reclutamiento fueron desde protestas pac√≠ficas hasta manifestaciones violentas con velados ataques a la guerra, movimientos que estuvieron capitaneados por peri√≥dicos, socialistas y en menor medida anarquistas, de hecho la Corte Suprema de Estados Unidos debi√≥ confirmar la constitucionalidad del servicio militar obligatorio el 7 de enero de 1918. Otro caso especial fue el de Austria Hungr√≠a, que emple√≥ un sistema mixto de reclutamiento: mientras el servicio militar era obligatorio para los soldados, los oficiales pod√≠an servir de manera voluntaria. Esto provoc√≥ que una cuarta parte del ej√©rcito estuviera formada por eslavos, mientras que el 75 % de los oficiales ten√≠an un origen germano. Este desequilibrio, descrito como ¬´un ej√©rcito formado por soldados desafectos dirigidos por oficiales de estilo colonial¬ª, contribuy√≥ en gran medida a la pobre actuaci√≥n austriaca en la guerra.",
        "La Segunda Guerra Mundial fue un conflicto militar global que se desarroll√≥ entre 1939 y 1945. En ella se vieron implicadas la mayor parte de las naciones del mundo ‚Äîincluidas todas las grandes potencias, as√≠ como pr√°cticamente todas las naciones europeas‚Äî agrupadas en dos alianzas militares enfrentadas: los Aliados, por un lado, y las Potencias del Eje, por otro. Fue la mayor contienda b√©lica en la historia de la humanidad, con m√°s de cien millones de militares movilizados y un estado de guerra total en que los grandes contendientes destinaron toda su capacidad econ√≥mica, militar y cient√≠fica al servicio del esfuerzo b√©lico, borrando la distinci√≥n entre recursos civiles y militares. Marcada por hechos de enorme repercusi√≥n que incluyeron la muerte masiva de civiles (el Holocausto, los bombardeos masivos sobre ciudades y el uso, por primera vez en un conflicto b√©lico, de armas nucleares), la Segunda Guerra Mundial fue la m√°s mort√≠fera de la historia, con un resultado de entre 50 y 70 millones de v√≠ctimas, el 2,5 % de la poblaci√≥n mundial de esa √©poca. El comienzo del conflicto se suele situar en el 1 de septiembre de 1939, con la invasi√≥n alemana de Polonia, cuando Hitler se decidi√≥ a la incorporaci√≥n de una de sus reivindicaciones expansionistas m√°s delicadas: El Corredor Polaco, que implicaba la invasi√≥n de la mitad occidental de Polonia; la mitad oriental, junto con Estonia, Letonia y Lituania fue ocupada por la Uni√≥n Sovi√©tica, mientras que Finlandia logr√≥ mantener su independencia de los sovi√©ticos (guerra de Invierno). El Reino Unido y Francia le declararon la guerra a Alemania, que esperaban que esta fuera, como una repetici√≥n de la guerra de trincheras de la Primera Guerra Mundial (¬´guerra de mentira¬ª) para la que hab√≠an tomado toda clase de precauciones (l√≠nea Maginot) que demostraron ser del todo in√∫tiles. Las maniobras espectaculares de la blitzkrieg (¬´guerra rel√°mpago¬ª) proporcionaron en pocos meses a Alemania el control de Noruega, Dinamarca, Pa√≠ses Bajos, B√©lgica y la propia Francia, mientras que el ej√©rcito brit√°nico escapaba in extremis desde las playas de Dunkerque durante la batalla de Francia.",
        "La Sociedad de Naciones, a la que se responsabiliz√≥ de contribuir a desatar la guerra, fue reemplazada por la ONU. La carta de las Naciones Unidas se firm√≥ en San Francisco el 26 de junio de 1945. En los Juicios de N√∫remberg y Tokio, parte de la jerarqu√≠a nazi y del Tenno nip√≥n fue juzgada y condenada por cr√≠menes contra la humanidad. La investigaci√≥n cient√≠fica y t√©cnica, en su conjunto, se benefici√≥ de un fuerte impulso en particular: el dominio del √°tomo tras el Proyecto Manhattan. Tambi√©n contribuy√≥ a la creaci√≥n del helic√≥ptero, los aviones de reacci√≥n y la creaci√≥n del ICBM. Los sovi√©ticos, que se aliaron con EE. UU. y los aliados solo por conveniencia contra el enemigo com√∫n, Alemania, se convirtieron en enemigos por sus ideales contrarios, y as√≠ comenz√≥ una era de guerra fr√≠a a nivel mundial, concentr√°ndose en Europa. En Alemania tras la firma del armisticio por parte del Eje, el Plan Marshall contribuy√≥ a la reconstrucci√≥n de Alemania. Si bien los alemanes perdieron la guerra, sus adelantos en tecnolog√≠a punta en cadenas de industrias, fabricaci√≥n de componentes para cohetes, misiles y diversos tipos de armas ayudaron a los Aliados del Oeste y sirvieron para el llamado ¬´milagro alem√°n¬ª. Sin embargo se present√≥ la expulsi√≥n de alemanes en Europa central (Prusia, Checoslovaquia, Polonia y pa√≠ses b√°lticos) donde hab√≠a asentamientos alemanes desde varios siglos atr√°s. Los alemanes de los Sudetes, que ped√≠an su incorporaci√≥n a Alemania, hab√≠an desencadenado el desmantelamiento de Checoslovaquia, acordado en los Acuerdos de M√∫nich de 1938. Tras la toma de esos territorios por el ej√©rcito sovi√©tico, numerosos alemanes fueron expulsados o dejaron su tierra para ir a Alemania o Austria, en condiciones generalmente dram√°ticas. Los Estados Unidos tomaron la iniciativa de una actitud ¬´positiva¬ª. Impusieron la democracia (particularmente al Jap√≥n), a trav√©s de una depuraci√≥n y de un control del Estado y la educaci√≥n. Las p√©rdidas de vidas humanas para Estados Unidos fueron, en comparaci√≥n con el resto de los Aliados, muy inferiores en n√∫mero porque en su territorio no se desarroll√≥ la guerra y las p√©rdidas solo fueron militares.",
        "El inicio de la guerra en Europa, que abarca desde la invasi√≥n de Polonia en septiembre de 1939 hasta el final del perio de la Guerra de broma en mayo de 1940. Tras la invasi√≥n alemana de Polonia, que fue el detonante de la Segunda Guerra Mundial en el frente europeo, las principales potencias europeas, como el Reino Unido y Francia, declararon la guerra a la Alemania nazi. Sin embargo, durante los primeros meses del conflicto, las hostilidades en el frente occidental fueron limitadas, caracterizada por una falta de enfrentamientos directos entre las grandes potencias en la regi√≥n, mientras que los combates se concentraron principalmente en el este, en la campa√±a polaca. Este per√≠odo de relativa calma en el frente occidental termin√≥ con el comienzo de la invasi√≥n alemana de Francia y los pa√≠ses bajos en mayo de 1940.",
        "La Segunda Guerra Mundial en Europa puede entenderse como la prolongaci√≥n de los conflictos no resueltos tras la Primera Guerra Mundial. Aunque la Gran Guerra termin√≥ en 1918, las tensiones y rivalidades entre las naciones europeas quedaron lejos de solucionarse. Alemania, a pesar de su rendici√≥n, no hab√≠a sido invadida militarmente y su monarqu√≠a, precedida por Guillermo II de Alemania hab√≠a sido derrocada en medio de una revoluci√≥n interna, lo que llev√≥ a muchos alemanes a creer que pod√≠an negociar condiciones de paz m√°s justas basadas en los Catorce Puntos propuestos por el presidente estadounidense Woodrow Wilson. Sin embargo, esta expectativa se desvaneci√≥ r√°pidamente. El orden establecido al final de la guerra, lejos de consolidar una paz duradera, provoc√≥ un profundo resentimiento en Alemania. La p√©rdida de territorios y colonias, sumada a una fuerte crisis econ√≥mica y pol√≠tica, cre√≥ un ambiente de frustraci√≥n que muchos alemanes dirigieron hacia los grupos que hab√≠an impulsado la revoluci√≥n de Noviembre y la ca√≠da del antiguo r√©gimen. El Imperio Austroh√∫ngaro se fragment√≥ en m√∫ltiples naciones; Austria y Hungr√≠a se convirtieron en estados independientes y nuevas entidades como Checoslovaquia y Yugoslavia surgieron a partir de sus antiguos territorios. Por su parte, Rusia, en plena revoluci√≥n bolchevique, perdi√≥ el control sobre vastas regiones, incluidos los pa√≠ses b√°lticos, mientras luchaba por imponerse en una devastadora guerra civil. En este nuevo mapa europeo, surgieron once estados que pretend√≠an actuar como barreras tanto contra una posible expansi√≥n alemana como contra la amenaza del comunismo sovi√©tico. Sin embargo, las tensiones nacionales, las rivalidades territoriales y las fragilidades pol√≠ticas de estos nuevos pa√≠ses mantuvieron a Europa en un estado de inestabilidad permanente, abonando el terreno para futuros conflictos.",
        "La Primera Guerra Mundial (28 de julio de 1914-11 de noviembre de 1918), tambi√©n conocida como la Gran Guerra, fue un conflicto mundial entre dos coaliciones: los Aliados (o Entente) y las Potencias Centrales. Los combates tuvieron lugar principalmente en Europa y Oriente Medio, as√≠ como en partes de √Åfrica y Asia-Pac√≠fico, y en Europa se caracterizaron por la guerra de trincheras, el uso generalizado de artiller√≠a, ametralladoras y armas qu√≠micas (gas), y la introducci√≥n de tanques y aviones. La Primera Guerra Mundial fue uno de los conflictos m√°s mort√≠feros de la historia, con un saldo de unos 10 millones de muertos militares y m√°s de 20 millones de heridos, adem√°s de unos 10 millones de muertos civiles por causas que inclu√≠an el genocidio. El movimiento de grandes cantidades de personas fue un factor importante en la mortal pandemia de gripe espa√±ola. Esta guerra recibi√≥ el calificativo de ¬´mundial¬ª porque se vieron involucradas todas las grandes potencias industriales y militares de la √©poca, divididas en dos alianzas: por un lado, la Triple Alianza formada por las Potencias Centrales (el Imperio alem√°n y Austria-Hungr√≠a). Italia, que hab√≠a sido miembro de la Triple Alianza junto a Alemania y Austria-Hungr√≠a, no se uni√≥ a las Potencias Centrales, pues Austria, en contra de los t√©rminos pactados, fue la naci√≥n agresora que desencaden√≥ el conflicto. Por otro lado se encontraba la Triple Entente, formada por el Reino Unido, Francia y el Imperio ruso. Ambas alianzas sufrieron cambios y fueron varias las naciones que acabar√≠an ingresando en las filas de uno u otro bando seg√∫n avanzaba la guerra: Italia, el Imperio del Jap√≥n y Estados Unidos se unieron a la Triple Entente, mientras el Imperio otomano y el Reino de Bulgaria se unieron a las Potencias Centrales. M√°s de 70 millones de militares, de los cuales 60 millones eran europeos, se movilizaron y combatieron en la entonces guerra m√°s grande de la historia. Hasta antes del comienzo de la Segunda Guerra Mundial, esta guerra era llamada ¬´Gran Guerra¬ª o ¬´Guerra Mundial¬ª, expresi√≥n esta √∫ltima que en Alemania comenz√≥ a utilizarse desde su comienzo (Weltkrieg), aunque solo se generaliz√≥ en Francia (Guerre Mondiale) y en el Reino Unido (World War) en la d√©cada de 1930, mientras que en Estados Unidos la denominaci√≥n se impuso a partir de su intervenci√≥n en 1917, ya que all√≠ se la conoc√≠a como ¬´Guerra Europea¬ª.",
        "En un principio las clases altas temieron una dura respuesta por parte de la clase obrera en caso de conflicto, de hecho en pa√≠ses como Francia se prepararon medidas para neutralizar intentonas revolucionarias, sin embargo esto nunca se materializ√≥, m√°s bien todo lo contrario. La habilidad con que los pa√≠ses beligerantes presentaron la guerra a su poblaci√≥n les asegur√≥ una casi total adhesi√≥n de las masas, una situaci√≥n que no obstante fue breve. Varios partidos socialistas apoyaron inicialmente la guerra en agosto de 1914; los socialistas europeos estaban fuertemente divididos entre aquellos que decidieron apoyar a sus gobiernos y se unieron al fervor nacionalista y patri√≥tico de entonces, dejando a un lado sus tesis internacionalistas, y aquellos que adoptaron una posici√≥n contraria a la guerra, especialmente los socialistas m√°s escorados a la izquierda, marxistas y sindicalistas, que vieron en ella una nueva expresi√≥n de la lucha de clases. Una vez comenz√≥ la guerra, una mayor√≠a de socialistas austriacos, brit√°nicos, franceses, alemanes y rusos apoyaron el esfuerzo b√©lico de sus naciones. En los Balcanes, los partidarios del yugoslavismo, encabezados por su l√≠der Ante Trumbic, apoyaron firmemente la guerra, deseosos de liberar los Balcanes del control de Austria-Hungr√≠a y otras potencias extranjeras, aspirando a la creaci√≥n de una Yugoslavia independiente. El comit√© yugoslavo, dirigido por Trumbic, se constituy√≥ en Par√≠s, aunque al poco tiempo traslad√≥ su sede a Londres. En abril de 1918, se reuni√≥ ¬´el congreso de las nacionalidades oprimidas¬ª en Roma, con participaci√≥n de checoslovacos, italianos, polacos, transilvanos y yugoslavos que instaron a los Aliados a apoyar la autodeterminaci√≥n de los pueblos bajo la soberan√≠a de Austria-Hungr√≠a. En Oriente Pr√≥ximo, el nacionalismo √°rabe se dispar√≥ en los territorios otomanos fuera de Anatolia en respuesta al surgimiento del nacionalismo turco durante la guerra, donde los l√≠deres del movimiento ya abogaban por la creaci√≥n de un estado pan√°rabe. En 1916, la rebeli√≥n √°rabe tom√≥ forma en aquellos territorios otomanos de Oriente Pr√≥ximo que luchaban por su independencia. En √Åfrica oriental, Iyasu V de Etiop√≠a apoy√≥ al Estado derviche de Somalia que combat√≠a contra los brit√°nicos en la campa√±a de Somalilandia. Von Syburg, enviado alem√°n a Addis Abeba dijo: ¬´ahora ha llegado el momento de que Etiop√≠a recupere las costas del mar Rojo, mande a los italianos de vuelta a casa y lleve las fronteras del imperio a su l√≠mite anterior¬ª.",
        "La Primera Guerra Mundial comenz√≥ con un choque de la tecnolog√≠a del siglo XX con las t√°cticas militares del siglo XIX, con la inevitable p√©rdida de numerosas tropas. Sin embargo, a finales de 1917 los grandes ej√©rcitos, que sumaban millones de hombres en sus filas, se hab√≠an modernizado y hac√≠an uso de los √∫ltimos avances tecnol√≥gicos, como el tel√©fono, la comunicaci√≥n inal√°mbrica, los veh√≠culos blindados, carros de combate y aviones. La guerra de trincheras y el estancamiento del frente forz√≥ la reorganizaci√≥n de las formaciones de infanter√≠a: si en los comienzos la principal unidad estaba formada por unos 100 hombres, las circunstancias favorecieron el empleo de escuadrones de ataque de 10 hombres o menos al mando de un suboficial menor. La artiller√≠a tambi√©n protagoniz√≥ otra revoluci√≥n tecnol√≥gica. En 1914, los ca√±ones se empezaron a emplear en el frente para el ataque directo de objetivos, pero en 1917 el fuego indirecto con ca√±ones (incluidos morteros o incluso ametralladoras) era com√∫n y se empleaban nuevas t√°cticas para detectar y variar objetivos, sobre todo con el uso de aviones y tel√©fonos de campa√±a. Con estas mejoras tambi√©n se convirti√≥ en algo habitual el fuego contra-bater√≠a, con el fin de intentar neutralizar la artiller√≠a enemiga. Alemania estuvo muy por delante de la Entente en la utilizaci√≥n de fuego indirecto con bater√≠as pesadas, pues el ej√©rcito alem√°n emple√≥ desde un principio obuses de 150 y 210 mm, mientras que en 1914, la artiller√≠a t√≠pica de franceses y brit√°nicos era de 75 y 105 mm. Los brit√°nicos ten√≠an un tipo de ob√∫s de 152 mm, pero era tan pesado que deb√≠a ser arrastrado hasta el campo de batalla en piezas y ensamblado all√≠. Los alemanes en cambio pose√≠an ca√±ones austr√≠acos de hasta 305 y 420 mm e incluso al comienzo de la guerra ten√≠an en sus arsenales morteros Minenwerfer, ideales para la guerra de trincheras. Las armas terrestres m√°s poderosas utilizadas fueron los ca√±ones ferroviarios, con un peso unitario de varias decenas de toneladas.",
        "Las causas b√©licas del estallido de la Segunda Guerra Mundial son, en Occidente, la invasi√≥n de Polonia por las tropas alemanas; y en Oriente, la invasi√≥n japonesa de China, las colonias brit√°nicas y neerlandesas y posteriormente el ataque a Pearl Harbor. La Segunda Guerra Mundial estall√≥ despu√©s de que estas acciones agresivas recibieran como respuesta una declaraci√≥n de guerra, la resistencia armada o ambas, por parte de los pa√≠ses agredidos y aquellos con los que manten√≠an tratados. En un primer momento, los pa√≠ses aliados estaban formados tan solo por Polonia, Reino Unido y Francia, mientras que las fuerzas del Eje las constitu√≠an √∫nicamente Alemania e Italia en una alianza llamada el Pacto de Acero. A medida que la guerra progres√≥, los pa√≠ses que iban entrando en ella (por ser atacados o tener tratados con los pa√≠ses agredidos) se alinearon en uno de los dos bandos, dependiendo de cada situaci√≥n. Ese fue el caso de los Estados Unidos y la URSS, atacados respectivamente por Jap√≥n y Alemania. Algunos pa√≠ses, como Hungr√≠a o Italia, cambiaron sus alianzas en las fases finales de la guerra.",
        "Tras una gran ofensiva alemana a principios de 1918 a lo largo de todo el frente occidental, los Aliados hicieron retroceder a los alemanes en una serie de exitosas ofensivas. Alemania, en plena revoluci√≥n, solicit√≥ un armisticio el 11 de noviembre de 1918, poniendo fin a la guerra con la victoria aliada. Tras el fin de la guerra, cuatro grandes imperios dejaron de existir: el alem√°n, el ruso, el austroh√∫ngaro y el otomano. Los Estados sucesores de los dos primeros perdieron una parte importante de sus antiguos territorios, mientras que los dos √∫ltimos se desmantelaron. El mapa de Europa y sus fronteras cambiaron por completo y varias naciones se independizaron o se crearon. Al calor de la Primera Guerra Mundial se fragu√≥ la revoluci√≥n rusa, que concluy√≥ con la creaci√≥n del primer Estado en la historia autodenominado socialista: la Uni√≥n Sovi√©tica. Tras seis meses de negociaciones en la Conferencia de Paz de Par√≠s, el 28 de junio de 1919 los pa√≠ses aliados firmaron el Tratado de Versalles con Alemania, y otros a lo largo del siguiente a√±o con cada una de las potencias derrotadas. M√°s de nueve millones de combatientes y siete millones de civiles perdieron la vida (el 1 % de la poblaci√≥n mundial), una cifra extraordinaria, dada la sofisticaci√≥n tecnol√≥gica e industrial de los beligerantes. Es el quinto conflicto m√°s mort√≠fero de la historia de la humanidad. La convulsi√≥n que provoc√≥ la guerra allan√≥ el camino a grandes cambios pol√≠ticos, sociales y econ√≥micos, con revoluciones de un car√°cter nunca visto en varias de las naciones involucradas. Se fund√≥ la Sociedad de Naciones, con el objetivo de evitar que un conflicto de tal magnitud se repitiese; sin embargo, dos d√©cadas despu√©s estall√≥ la Segunda Guerra Mundial. Entre sus razones se pueden se√±alar: el alza de los nacionalismos, una cierta debilidad de los Estados democr√°ticos, la humillaci√≥n sentida por Alemania tras su derrota, las grandes crisis econ√≥micas y, sobre todo, el auge del fascismo."
    ]

    print("üìù Generando respuesta:")
    print(generate_answer(q, ctx))

    print("\nüîç Chequeando si el contexto tiene respuesta:")
    print(check_context(q, ctx))